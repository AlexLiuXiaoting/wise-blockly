<html>
	<head>
		<meta http-equiv="Content-Type" content="text/html;charset=utf-8"/>
	</head>
	<body>
		
		<script type="text/javascript">
			var jsonString = '{"characters":[ {"name":"BirdMan", "charEffects":[ {"name":"WingsUp"}, {"name":"WingsDown"} ]}, {"name":"ElephantMan", "charEffects":[ {"name":"ShootBubble"}, {"name":"NoseUp"}, {"name":"NoseDown"} ]} ], "backgrounds":[ {"name":"BG-City"}, {"name":"BG-Moutain"} ], "events":[ {"name":"LeftHandUp"}, {"name":"RightHandUp"} ], "effects":[ {"name":"ExplodeEffect"}, {"name":"FlameEffect"} ]}';
			var jsonParse = JSON.parse(jsonString);
			var charactersname, charEffectsname, backgroundsname, eventsname, effectsname;
			var charactersArray = [], charEffectsArray = [], backgroundsArray = [], eventsArray = [], effectsArray = [];
			var c_Array = [];
			var str = "";
			function jsonString() {
				console.log(jsonString);
			}
			var c_str='';	
			for (var i = 0; i < jsonParse.characters.length; i++) {
				
				var len = jsonParse.characters[i].charEffects.length;

				for (var j=0;j<len;j++) {
				
					c_str+=jsonParse.characters[i].charEffects[j].name+" ";
				}
				console.log(jsonParse.characters[i].name+"@"+c_str);
				c_Array.push(jsonParse.characters[i].name+"@"+c_str);
				c_str='';
				// c_Array.push(jsonParse.characters[i].name+"@"+c_effectsArray);
				// charactersname = jsonParse.characters[i].name;
				// str += "characters name = " + charactersname + "\n";
				// charactersArray.push(charactersname);
				// // console.log("characters name: " + jsonParse.characters[i].name);
				// for(var j = 0; j < jsonParse.characters[i].charEffects.length; j++) {
				// 	charEffectsname = jsonParse.characters[i].charEffects[j].name;
				// 	str += "charEffects name = " + charEffectsname + "\n";
				// 	charEffectsArray.push(charactersname+","+charEffectsname);
				// 	// console.log(jsonParse.characters[i].charEffects[j].name);
				// }

			}

			for (var i =0; i< c_Array.length; i++){
				var a = c_Array[i].split("@");
				console.log(a[0]);

				var aa = a[1].split(" ");
				var b = a[1].split(" ").length-1;

				for (var j=0; j<b; j++){
					var eff = '';
		            if (j!=b-1){
		              eff += '["'+aa[j]+'", "'+aa[j]+'"]';
		            } else {
		              eff += '["'+aa[j]+'", "'+aa[j]+'"], ';
		            }
		            console.log(eff);
				}
			}

			for (var i = 0; i < jsonParse.backgrounds.length; i++) {
				backgroundsname = jsonParse.backgrounds[i].name;
				str += "backgrounds name = " + backgroundsname + "\n";
				backgroundsArray.push(backgroundsname);
			}
			for (var i = 0; i < jsonParse.events.length; i++) {
				eventsname = jsonParse.events[i].name;
				str += "events name = " + eventsname + "\n";
				eventsArray.push(eventsname);
			}
			for (var i = 0; i < jsonParse.effects.length; i++) {
				effectsname = jsonParse.effects[i].name;
				str += "effects name = " + effectsname + "\n";
				effectsArray.push(effectsname);
			}

			// console.log(str);
			for(var i = 0; i < charactersArray.length; i++) {
				console.log("characters name = " + charactersArray[i]);
			}
			for(var i = 0; i < charEffectsArray.length; i++) {
				var str = charEffectsArray[i].split(",");

				console.log(str[0]+" "+str[1]);
			}
			for(var i = 0; i < backgroundsArray.length; i++) {
				console.log("backgrounds name = " + backgroundsArray[i]);
			}
			for(var i = 0; i < eventsArray.length; i++) {
				console.log("events name = " + eventsArray[i]);
			}
			for(var i = 0; i < effectsArray.length; i++) {
				console.log("effects name = " + effectsArray[i]);
			}
			
			


		</script>
	</body>
</html>